{
  "type": "component",
  "metadata": {
    "svelteMajor": 5
  },
  "schema": {
    "name": "bb-component-SuperRepeater",
    "friendlyName": "Super Repeater",
    "description": "A flexible repeater component for iterating over arrays and data sources with support for multiple layout modes",
    "author": "Michael Poirazi",
    "hasChildren": true,
    "showEmptyState": true,
    "icon": "SelectIntersect",
    "styles": ["padding", "size", "border", "background"],
    "grid": {
      "hAlign": "stretch",
      "vAlign": "stretch"
    },
    "context": [
      {
        "type": "schema",
        "scope": "local"
      },
      {
        "type": "static",
        "scope": "local",
        "values": [
          { "key": "key", "label": "key", "type": "string" },
          { "key": "value", "label": "value", "type": "object" },
          { "key": "index", "label": "index", "type": "number" }
        ]
      }
    ],
    "settings": [
      {
        "type": "select",
        "key": "mode",
        "label": "Layout Mode",
        "showInBar": true,
        "barStyle": "buttons",
        "options": [
          {
            "label": "Container",
            "value": "container",
            "barIcon": "SelectIntersect",
            "barTitle": "Container"
          },
          {
            "label": "Grid",
            "value": "grid",
            "barIcon": "ClassicGridView",
            "barTitle": "Grid"
          },
          {
            "label": "Tabs",
            "value": "tabs",
            "barIcon": "FolderOutline",
            "barTitle": "Tabs Control"
          },
          {
            "label": "List",
            "value": "list",
            "barIcon": "list-dashes",
            "barTitle": "List View"
          }
        ],
        "defaultValue": "container"
      },
      {
        "type": "select",
        "key": "bound",
        "label": "Repeater Mode",
        "showInBar": true,
        "barStyle": "buttons",
        "options": [
          {
            "label": "Data Provider",
            "value": "dataprovider",
            "barIcon": "database"
          },
          { "label": "Array", "value": "array", "barIcon": "brackets-square" },
          {
            "label": "Object Keys",
            "value": "json",
            "barIcon": "brackets-curly"
          }
        ],
        "defaultValue": "dataprovider"
      },
      {
        "type": "dataProvider",
        "key": "dataprovider",
        "label": "Data Provider",
        "resetOn": "bound",
        "dependsOn": { "setting": "bound", "value": "dataprovider" }
      },
      {
        "type": "text",
        "key": "sourceArray",
        "label": "Source Array",
        "resetOn": "bound",
        "dependsOn": { "setting": "bound", "value": "array" }
      },
      {
        "type": "text",
        "key": "sourceJSON",
        "label": "Source Object",
        "resetOn": "bound",
        "dependsOn": { "setting": "bound", "value": "json" }
      },
      {
        "section": true,
        "name": "Container Options",
        "dependsOn": { "setting": "mode", "value": "container" },
        "settings": [
          {
            "type": "select",
            "label": "Direction",
            "key": "direction",
            "showInBar": true,
            "barStyle": "buttons",
            "options": [
              {
                "label": "Column",
                "value": "column",
                "barIcon": "ArrowDown",
                "barTitle": "Column layout"
              },
              {
                "label": "Row",
                "value": "row",
                "barIcon": "ArrowRight",
                "barTitle": "Row layout"
              }
            ],
            "defaultValue": "column"
          },
          {
            "type": "select",
            "label": "Align Items",
            "key": "hAlign",
            "showInBar": true,
            "barStyle": "buttons",
            "options": [
              {
                "label": "Left",
                "value": "flex-start",
                "barIcon": "AlignLeft",
                "barTitle": "Align left"
              },
              {
                "label": "Center",
                "value": "center",
                "barIcon": "AlignCenter",
                "barTitle": "Align center"
              },
              {
                "label": "Right",
                "value": "flex-end",
                "barIcon": "AlignRight",
                "barTitle": "Align right"
              },
              {
                "label": "Space Between",
                "value": "space-between",
                "barIcon": "DistributeSpaceHoriz",
                "barTitle": "Space Evenly"
              },
              {
                "label": "Space Around",
                "value": "space-around",
                "barIcon": "DistributeHorizontally",
                "barTitle": "Space Around"
              },
              {
                "label": "Stretch",
                "value": "stretch",
                "barIcon": "MoveLeftRight",
                "barTitle": "Align stretched horizontally"
              }
            ],
            "defaultValue": "stretch"
          },
          {
            "type": "select",
            "label": "Vert. align",
            "key": "vAlign",
            "showInBar": true,
            "barStyle": "buttons",
            "options": [
              {
                "label": "Top",
                "value": "flex-start",
                "barIcon": "AlignTop",
                "barTitle": "Align top"
              },
              {
                "label": "Middle",
                "value": "center",
                "barIcon": "AlignMiddle",
                "barTitle": "Align middle"
              },
              {
                "label": "Bottom",
                "value": "flex-end",
                "barIcon": "AlignBottom",
                "barTitle": "Align bottom"
              },
              {
                "label": "Space Between",
                "value": "space-between",
                "barIcon": "DistributeSpaceVert",
                "barTitle": "Space Evenly"
              },
              {
                "label": "Space Around",
                "value": "space-around",
                "barIcon": "DistributeVertically",
                "barTitle": "Space Around"
              },
              {
                "label": "Stretch",
                "value": "stretch",
                "barIcon": "MoveUpDown",
                "barTitle": "Align stretched vertically"
              }
            ],
            "defaultValue": "flex-start"
          },
          {
            "type": "select",
            "label": "Gap",
            "key": "gap",
            "showInBar": true,
            "barStyle": "picker",
            "options": [
              {
                "label": "None",
                "value": "0"
              },
              {
                "label": "Tiny",
                "value": "0.25"
              },
              {
                "label": "Small",
                "value": "0.5"
              },
              {
                "label": "Medium",
                "value": "1"
              },
              {
                "label": "Large",
                "value": "1.5"
              }
            ],
            "defaultValue": "1"
          },
          {
            "type": "boolean",
            "label": "Wrap",
            "key": "wrap",
            "showInBar": false,
            "barIcon": "ModernGridView",
            "barTitle": "Wrap"
          }
        ]
      },
      {
        "section": true,
        "name": "Grid Options",
        "dependsOn": { "setting": "mode", "value": "grid" },
        "settings": [
          {
            "type": "number",
            "key": "gridColumns",
            "label": "Columns",
            "min": 1,
            "defaultValue": 3
          },
          {
            "type": "number",
            "key": "gridRows",
            "label": "Rows",
            "min": 1,
            "defaultValue": 3
          }
        ]
      },
      {
        "section": true,
        "name": "Tab Options",
        "dependsOn": { "setting": "mode", "value": "tabs" },
        "settings": [
          {
            "type": "select",
            "key": "tabsPosition",
            "label": "Position",
            "options": [
              { "label": "Top", "value": "top" },
              { "label": "Left", "value": "left" }
            ],
            "defaultValue": "top"
          },
          {
            "type": "select",
            "key": "theme",
            "label": "Theme",
            "options": [
              { "label": "Buttons", "value": "buttons" },
              { "label": "Wide Buttons", "value": "wideButtons" }
            ],
            "defaultValue": "buttons"
          },
          {
            "type": "text",
            "key": "tabText",
            "label": "Tab Text",
            "defaultValue": "Tab {{ index }}",
            "nested": true
          },
          {
            "type": "select",
            "key": "buttonsAlignment",
            "label": "Alignment",
            "showInBar": true,
            "barStyle": "select",
            "options": [
              {
                "label": "Start",
                "value": "flex-start",
                "barIcon": "align-left",
                "barTitle": "Align left"
              },
              {
                "label": "Center",
                "value": "center",
                "barIcon": "align-center-horizontal",
                "barTitle": "Align center"
              },
              {
                "label": "End",
                "value": "flex-end",
                "barIcon": "align-right",
                "barTitle": "Align right"
              },
              {
                "label": "Stretch",
                "value": "stretch",
                "barIcon": "arrows-left-right",
                "barTitle": "Stretch"
              }
            ],
            "defaultValue": "flex-start"
          },
          {
            "type": "select",
            "key": "tabsAlignment",
            "label": "Text Align",
            "showInBar": true,
            "barStyle": "select",
            "options": [
              {
                "label": "Left",
                "value": "flex-start",
                "barIcon": "align-left",
                "barTitle": "Align left"
              },
              {
                "label": "Center",
                "value": "center",
                "barIcon": "align-center-horizontal",
                "barTitle": "Align center"
              },
              {
                "label": "Right",
                "value": "flex-end",
                "barIcon": "align-right",
                "barTitle": "Align right"
              }
            ],
            "defaultValue": "center"
          },
          {
            "type": "boolean",
            "key": "tabsIconsOnly",
            "label": "Icons Only",
            "defaultValue": false
          },
          {
            "type": "text",
            "key": "activeTab",
            "label": "Default Tab",
            "defaultValue": "0"
          },
          {
            "type": "event",
            "key": "onTabChange",
            "label": "On Tab Change",
            "context": [{ "key": "tabTitle", "label": "Title" }]
          }
        ]
      },
      {
        "section": true,
        "name": "List Options",
        "dependsOn": { "setting": "mode", "value": "list" },
        "settings": [
          {
            "type": "text",
            "key": "list_title",
            "label": "List Title",
            "defaultValue": "Items"
          },
          {
            "type": "icon",
            "key": "list_icon",
            "label": "List Icon",
            "defaultValue": "ri-layout-list-line"
          },
          {
            "type": "text",
            "key": "activeTab",
            "label": "Default Item",
            "defaultValue": "0"
          },
          {
            "type": "event",
            "key": "onTabChange",
            "label": "On Item Change",
            "context": [{ "key": "tabTitle", "label": "Title" }]
          }
        ]
      }
    ]
  }
}
